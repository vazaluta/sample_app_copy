<%# 俺作った %>
<div class= "microposts">
  <%= link_to gravatar_for(@micropost.user, size: 30), @micropost.user %>
  <span class="user">
    <%= @micropost.user.name %>
  </span>
  <span class="timestamp">
        Posted <%= time_ago_in_words(@micropost.created_at) %> ago.
  </span>
  
</div>
<div class="show-content">
  <%= @micropost.content %>
  <% if current_user?(@micropost.user) %>
  <!--micropost => micropost_path-->
    | <%= link_to "delete", @micropost, method: :delete,
                                        data: { confirm: "You sure?" } %>
  <% end %>

</div>

<%# いいねボタンの実装 %>
<%# if @micropost.favorited?(current_user) %>
    <%# 一致するレコードが存在する＝すでにいいね済みの場合はdestroyアクションへ %>
    <%#= link_to micropost_favorite_path(@micropost.id), method: :delete do %>
        <%# <span style="color:red;">❤︎</#span> %>
    <%# end %>
<%# else %>
    <%# 一致するレコードが存在しない＝まだいいねしていない場合はcreateアクションへ %>
    <%#= link_to micropost_favorites_path(@micropost.id), method: :post do %>
        <%# <span>❤︎</span> %>
    <%# end %>
<%# end %>

<%# いいねボタンの実装：likesample のやり方　上のコードは後で消す %>
 <h3>いいね件数: <%= @micropost.favorites.count %></h3>
<% if current_user.already_favorited?(@micropost) %>
  <%# @micropost => micropost.id %>
  <%= button_to 'いいねを取り消す', micropost_favorite_path(@micropost), method: :delete %>
<% else %>
  <%# default => method: :post => postリクエストを送る %>
  <%= button_to 'いいね', micropost_favorites_path(@micropost), method: :post %>
<% end %>
<h2>いいねしたユーザー</h2>
<% @micropost.favorited_users.each do |user| %>
  <li><%= user.name %></li>
<% end %>

<%= link_to "ホームへ戻る", root_path %>